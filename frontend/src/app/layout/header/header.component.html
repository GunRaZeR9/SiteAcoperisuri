<!-- Top Bar -->
<div class="topbar">
  <div class="topbar-container">
    <!-- Contact Info -->
    <div class="topbar-contact">
      @for (item of contactInfo; track item.value) {
        @if (item.link.startsWith('tel:')) {
          <a [href]="item.link" (click)="trackPhoneCall()" class="topbar-link phone-link">
            {{ item.icon }} {{ item.value }}
          </a>
        } @else {
          <a [href]="item.link" class="topbar-link">
            {{ item.icon }} {{ item.value }}
          </a>
        }
      }
    </div>

    <!-- Social Links -->
    <div class="topbar-social">
      @for (social of socialLinks; track social.name) {
        <a 
          [href]="social.url" 
          target="_blank" 
          rel="noopener noreferrer" 
          class="social-link"
          [attr.aria-label]="social.name"
          [title]="social.name">
          <svg viewBox="0 0 24 24" [attr.fill]="social.color" class="social-icon">
            <path [attr.d]="social.icon"></path>
          </svg>
        </a>
      }
    </div>
  </div>
</div>

<header class="header" [class.scrolled]="isScrolled()">
  <div class="header-container">
    <!-- Logo -->
    <a routerLink="/" class="logo" (click)="closeMobileMenu()">
      <img ngSrc="/images/logo_acoperisuri_case.png" alt="AcoperiÈ™uri Profesionale" width="50" height="50" priority class="logo-image">
    </a>

    <!-- Desktop Navigation -->
    <app-nav class="desktop-nav" />

    <!-- Desktop Actions -->
    <div class="header-actions desktop-actions">
      <app-language-switcher />
      <a routerLink="/estimare-pret" class="btn btn-primary btn-sm">
        {{ 'nav.estimate' | translate }}
      </a>
    </div>

    <!-- Mobile Menu Toggle -->
    <button 
      class="mobile-menu-toggle"
      [class.active]="isMobileMenuOpen()"
      (click)="toggleMobileMenu()"
      [attr.aria-expanded]="isMobileMenuOpen()"
      aria-label="Toggle menu">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
  </div>
</header>

<!-- Mobile Navigation Overlay -->
<div 
  class="mobile-nav-overlay" 
  [class.active]="isMobileMenuOpen()"
  (click)="closeMobileMenu()">
</div>

<!-- Mobile Navigation -->
<app-mobile-nav 
  [isOpen]="isMobileMenuOpen()" 
  (closeMenu)="closeMobileMenu()" />
